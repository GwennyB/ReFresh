@page
@model ReFreshMVC.Pages.Admin.IndexModel
@using ReFreshMVC.Models
@{
    //Layout = "_Layout";
}

@*ADMIN DASHBOARD*@

<h3>INVENTORY</h3>
<div overflow="auto">
    <table>
        <tbody>
            @foreach (var product in Model.CurrentInventory)
            {
                <tr>
                    <td>@product.Name</td>
                    <td>SKU: @product.Sku</td>
                    <td>$@product.Price each</td>
                    <td>Stock: @product.QtyAvail units</td>
                </tr>
            }
        </tbody>
    </table>

</div>

@*add order viewing section*@
<h3>OPEN ORDERS</h3>
<div overflow="auto">
    <table>
        <tbody>
            @foreach (var cart in Model.CartsOpen)
            {
            <tr>
                <td>Cart #@cart.ID</td>
                <td>@cart.UserName</td>
                <td>
                    @if (cart.Orders != null)
                    {
                        @foreach (Order order in cart.Orders)
                        {
                            <p>@order.Product.Name (@order.Qty at $@order.ExtPrice each)</p>
                        }
                    }
                </td>
                <td>Total: @cart.Total</td>
            </tr>
            }
        </tbody>
    </table>
</div>

<h3>CLOSED ORDERS</h3>
<div overflow="auto">
    <table>
        <tbody>
            @foreach (var cart in Model.CartsClosed)
            {
                <tr>
                    <td>Cart #@cart.ID</td>
                    <td>@cart.UserName</td>
                    <td>
                        @if (cart.Orders != null)
                        {
                            @foreach (Order order in cart.Orders)
                            {
                                <p>@order.Product.Name (@order.Qty at $@order.ExtPrice each)</p>
                            }
                        }
                    </td>
                    <td>Total: @cart.Total</td>
                    <td>Closed: @cart.Completed</td>
                </tr>
            }
        </tbody>
    </table>
</div>


@*add admin user management section*@
<h3>ADMINISTRATORS</h3>
<div overflow="auto">
    @foreach (User admin in Model.Admins)
    {
        <p>
            <span>@admin.FirstName</span>
            <span>@admin.LastName</span>
            <span>@admin.UserName</span>
        </p>
    }
</div>



